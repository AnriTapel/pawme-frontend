<div class="breeder-profile-subpage-container">

    <div class="page-header">
        <h3>О щенках</h3>
    </div>
    <div class="upper-btn">
        <input type="button" class="custom-btn btn-purple" value="Сохранить изменения" (click)="saveChanges(false)" />
    </div>
    <div class="breeder-profile-subpage-form-left">
        <label for="puppies-age">Возраст продажи щенков</label>
        <div class="input-group mb-3">
            <input type="number" min="0" name="puppies-age" class="form-control custom-form-control-border" [(ngModel)]="puppiesData.age" placeholder="от"
                (change)="profileService.inputValueChanged('age')" aria-label="от" aria-describedby="basic-addon2" [class.invalid-form-field-value]="profileService.invalidFields.includes('age')">
            <div class="input-group-append">
                <span class="input-group-text custom-form-control-border" [class.invalid-form-field-value]="profileService.invalidFields.includes('age')"
                    id="basic-addon2">недель</span>
            </div>
        </div>
    </div>

    <div class="breeder-profile-subpage-form-right">
        <label for="puppies-price">Стоимость щенков в рублях</label>
        <div class="input-group">
            <input type="number" min="0" class="form-control custom-form-control-border" name="puppies-price" [(ngModel)]="puppiesData.priceFrom"
                (change)="profileService.inputValueChanged('priceFrom')" placeholder="от" [class.invalid-form-field-value]="profileService.invalidFields.includes('priceFrom')">
            <input type="number" min="0" class="form-control custom-form-control-border" [(ngModel)]="puppiesData.priceTo" placeholder="до" (change)="profileService.inputValueChanged('priceFrom')"
                [class.invalid-form-field-value]="profileService.invalidFields.includes('priceTo')">
        </div>
    </div>

    <div class="kit-avail-block">
        <span>Обязательный комплект Petman</span>
        <br>
        <p>Мы против мошенников, поэтому у каждого щенка должна быть
            <strong>метрика (родословная), ветеринарный паспорт
            </strong> и
            <strong>клеймо</strong>.</p>
        <div class="custom-checkbox">
            <div (click)="puppiesData.petmanSet = !puppiesData.petmanSet" [class.invalid-form-field-value]="profileService.invalidFields.includes('set')">
                <img *ngIf="puppiesData.petmanSet" src="./assets/img/check-mark.png" />
            </div>
            <label>Подтверждаю наличие такого комплекта</label>
        </div>
    </div>

    <hr>

    <div class="medicine-block">
        <label>Медицина</label>
        <br>
        <span class="block-description">Отметьте медицинские услуги, которые вы проводите для своих щенков.</span>
        <div class="medicine-checkboxs-list">
            <div class="breeder-profile-subpage-form-left">
                <ng-container *ngFor="let test of appService.puppyTests">
                    <div *ngIf="test.id % 2 == 1" class="custom-checkbox">
                        <div (click)="puppyTestClicked(test)" [class.invalid-form-checkbox]="profileService.invalidFields.includes('tests')">
                            <img *ngIf="getTestStatus(test)" src="./assets/img/check-mark.png" />
                        </div>
                        <label>{{test.name}}</label>
                    </div>
                </ng-container>
            </div>
            <div class="breeder-profile-subpage-form-right">
                <ng-container *ngFor="let test of appService.puppyTests">
                    <div *ngIf="test.id % 2 == 0" class="custom-checkbox">
                        <div (click)="puppyTestClicked(test)" [class.invalid-form-checkbox]="profileService.invalidFields.includes('tests')">
                            <img *ngIf="getTestStatus(test)" src="./assets/img/check-mark.png" />
                        </div>
                        <label>{{test.name}}</label>
                    </div>
                </ng-container>
            </div>
        </div>
    </div>

    <div class="contract-block">
        <span>Обязательный договор Petman c гарантией</span>
        <br>
        <span class="block-description">Для защиты покупателей от недобросовестных заводчиков наши юристы составили стандартный договор купли/продажи. В
            него включена гарантия по здоровью щенка на момент покупки.</span>

        <a href="https://petman.co/contract.pdf" target="_blank">Посмотреть договор</a>
        <br>


        <div class="custom-checkbox">
            <div (click)="puppiesData.petmanContract = !puppiesData.petmanContract" [class.invalid-form-field-value]="profileService.invalidFields.includes('contract')">
                <img *ngIf="puppiesData.petmanContract" src="./assets/img/check-mark.png" />
            </div>
            <label>Подтверждаю готовность использовать договор</label>
        </div>
    </div>

    <!--<hr>

    <div class="breeder-profile-subpage-form-left">
        <label for="guarantee-period">На сколько месяцев вы готовы дать гарантию по здоровью щенка?</label>
        <div class="input-group mb-3">
            <input type="number" min="0" name="guarantee-period" class="form-control custom-form-control-border" [(ngModel)]="puppiesData.insuranceTerm"
                placeholder="12" aria-label="12" aria-describedby="basic-addon2" (change)="profileService.dataChangesSaved = false"
                [class.invalid-form-field-value]="profileService.invalidFields.includes('term')">
            <div class="input-group-append">
                <span class="input-group-text custom-form-control-border" [class.invalid-form-field-value]="profileService.invalidFields.includes('term')"
                    id="basic-addon2">месяцев</span>
            </div>
        </div>
    </div>

    <div class="why-its-important">
        <span [placement]="getTooltipPlacement()" tooltipClass="custom-tooltip" [triggers]="appService.getTooltipTrigger()" ngbTooltip="Текст подсказки, которая будет всплывать при наведении!">Почему это важно?</span>
    </div>-->

    <hr>

    <div class="puppies-gifts-block">
        <label for="gifts">Подарки к купленному щенку (необязательно)</label>
        <br>
        <span class="block-description">Многие заводчики дарят новым хозяевам игрушку с запахом однопометников или небольшой мешочек корма.</span>
        <span class="textarea-length-counter" [style.color]="appService.getTextareaLimit(puppiesData.gifts, 512) > 0 ? '#46b0ad' : '#eb0000'">
            {{appService.getTextareaLimit(puppiesData.gifts, 512)}}
        </span>
        <textarea rows="3" class="form-control custom-form-control-border" [(ngModel)]="puppiesData.gifts" 
            [class.invalid-form-field-value]="profileService.invalidFields.includes('gifts')"(change)="profileService.inputValueChanged('gifts')"></textarea>
    </div>

    <div class="lower-btn">
        <span *ngIf="profileService.invalidFields.length > 0" class="invalid-field-message" style="display: block; margin-bottom: 1em;">
            Пожалуйста, заполните поля, выделенные красным
        </span>
        <br *ngIf="profileService.invalidFields.length > 0" />
        <input type="button" class="custom-btn btn-purple" value="Сохранить изменения" (click)="saveChanges(false)" />
    </div>
</div>